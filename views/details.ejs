<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
    integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

  <!-- line below was giving me issues with backend while loading this page -->
  <!-- <link rel="stylesheet" href="style.css"> -->

  <title>Oasis</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!-- <script> -->
  <script src="js/bootstrap.min.js" crossorigin="anonymous">
  </script>

  <!-- <script>
    $(document).ready(function(){
        $('#nav-placeholder').load('navbar.html');
    });
    </script> -->
</head>

<body>

  <% const id = 0; %>
  <% const type = 1; %>
  <% const address = 2; %>
  <% const city = 3; %>
  <% const state = 4; %>
  <% const zipcode = 5; %>
  <% const price = 6; %>
  <% const size = 7; %>
  <% const room = 8; %>
  <% const bathroom = 9; %>
  <% const image = 10; %>

  <div id="nav-placeholder">
  </div>
  <!--end of Navigation bar-->
  <div class="container">
    <div id="ListingCarousel" class="carousel slide" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#ListingCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#ListingCarousel" data-slide-to="1"></li>
      </ol>
      <div class="carousel-inner" role="listbox">
        <div class="carousel-item active">
          <img class="d-block w-100" src="<%= info[image] %>" alt="first slide">
        </div>

        <div class="carousel-item">
          <img class="d-block w-100"
            src="https://pmcvariety.files.wordpress.com/2018/07/bradybunchhouse_sc11.jpg?w=1000&h=563&crop=1"
            alt="second slide">
        </div>
      </div>

      <a class="carousel-control-prev" href="#ListingCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon"></span>
        <span class="sr-only">Previous</span>
      </a>

      <a class="carousel-control-next" href="#ListingCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-sm-4">
        <b>Monthly Rent</b>
        <br><%= info[price] %>

        <br>

        <br><b>Housing Type</b>
        <br><%= info[type] %>

        <br>

        <br><b>Address</b>
        <br><%= info[address] %>,
        <br><%= info[city] %>, <%= info[state] %>, <%= info[zipcode] %>

        <br>

        <br><b>Number of Rooms</b>
        <br><%= info[room] %> bedroom, <%= info[bathroom] %> bathroom

      </div>

      <div class="col-sm-6">
        <b>Description</b>
        <br>This is a cool room with friendly people. This is a cool room with friendly people. This is a cool room with
        friendly people. This is a cool room with friendly people. This is a cool room with friendly people. This is a
        cool room with friendly people. This is a cool room with friendly people. This is a cool room with friendly
        people. This is a cool room with friendly people. This is a cool room with friendly people. This is a cool room
        with friendly people. This is a cool room with friendly people. This is a cool room with friendly people. This
        is a cool room with friendly people.
      </div>

      <div class="col-sm-2">
        <a href="#"><button class="btn btn-outline-dark buttonidâ€ type=" submit">
            Contact Seller
          </button></a>
      </div>
      <!-- Google Maps API -->
      <!-- <h3 align="center">My Google Maps Demo</h3> -->
      <style>
        /* Set the size of the div element that contains the map */
        #map {
          height: 400px;
          /* The height is 400 pixels */
          width: 100%;
          /* The width is the width of the web page */
        }
      </style>
      <!--The div element for the map -->
      <div id="map"></div>
      <script>
        var address = "<%= map %>";
        // Initialize and add the map
        function initMap() {
          geocoder = new google.maps.Geocoder();
          // The location of SFSU
          var sfsu = {
            lat: 37.721984,
            lng: -122.478211
          };
          // The map, centered at SFSU
          map = new google.maps.Map(
            document.getElementById('map'), {
              zoom: 15,
              center: sfsu
            });
          // The marker, positioned at SFSU
          var marker = new google.maps.Marker({
            position: sfsu,
            map: map
          });
          //codeAddress(home)
          <
          %
          if (resultCount > 0) {
            %
            >
            codeAddress(address); <
            %
          } % >
        }

        function codeAddress(address) {
          geocoder.geocode({
            address: address
          }, function (results, status) {
            if (status == google.maps.GeocoderStatus.OK) {
              map.setCenter(results[0].geometry.location);
              //center the map over the result
              //place a marker at the location
              var marker = new google.maps.Marker({
                map: map,
                position: results[0].geometry.location
              });
            } else {
              alert('Geocode was not successful for the following reason: ' + status);
            }
          });
        }
      </script>


    </div>
  </div>

  <!-- Google Map API -->
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCpfgvpdTvB1mOc84v5a4-cFH_x48OLhFU&callback=initMap">
  </script>
</body>

</html>